{
  "name": "Tion Breezer ESP",
  "manufacturer": "Tion",
  "model": "3S / 4S / Lite / O2 Mac",
  "catalogId": 3910,
  "services": [
    {
      "name": "Бризер",
      "type": "HeaterCooler",
      "characteristics": [
        {
          "type": "Active",
          "link": {
            "type": "String",
            "topicSearch": "(.*)/tion-status",
            "topicGet": "(1)/climate/(1)/mode/state",
            "topicSet": "(1)/climate/(1)/mode/command",
            "map": {
              "INACTIVE": "off",
              "ACTIVE": "fan_only;heat"
            },
            "outMap": {
              "INACTIVE": "off",
              "ACTIVE": "fan_only"
            }
          }
        },
        {
          "type": "CurrentTemperature",
          "link": {
            "type": "Double",
            "topicGet": "(1)/climate/(1)/current_temperature/state",
            "inFunc": "parseFloat(value) || 0",
            "checkValue": true
          }
        },
        {
          "type": "HeatingThresholdTemperature",
          "link": {
            "type": "Integer",
            "topicGet": "(1)/climate/(1)/target_temperature/state",
            "topicSet": "(1)/climate/(1)/target_temperature/command",
            "inFunc": "parseInt(value) || 0"
          },
          "minValue": 0,
          "maxValue": 30,
          "minStep": 1
        },
        {
          "write": false,
          "type": "CoolingThresholdTemperature",
          "link": {
            "type": "Integer",
            "topicGet": "(1)/climate/(1)/target_temperature/state",
            "inFunc": "parseInt(value) || 0"
          }
        },
        {
          "type": "CurrentHeaterCoolerState",
          "link": {
            "type": "String",
            "topicGet": "(1)/climate/(1)/mode/state",
            "map": {
              "INACTIVE": "off",
              "HEATING": "heat",
              "COOLING": "fan_only"
            }
          },
          "validValues": "INACTIVE,HEATING,COOLING"
        },
        {
          "type": "TargetHeaterCoolerState",
          "link": {
            "type": "String",
            "topicGet": "(1)/climate/(1)/mode/state",
            "topicSet": "(1)/climate/(1)/mode/command",
            "map": {
              "HEAT": "heat",
              "COOL": "fan_only"
            }
          },
          "validValues": "HEAT,COOL"
        },
        {
          "type": "RotationSpeed",
          "unit": "",
          "link": {
            "type": "Integer",
            "topicGet": "(1)/climate/(1)/fan_mode/state",
            "topicSet": "(1)/climate/(1)/fan_mode/command"
          },
          "minValue": 1,
          "maxValue": 6
        }
      ]
    },
    {
      "name": "Режим рециркуляции",
      "type": "Switch",
      "characteristics": [
        {
          "type": "On",
          "link": {
            "type": "String",
            "topicGet": "(1)/switch/recirculation/state",
            "topicSet": "(1)/switch/recirculation/command",
            "map": {
              "false": "OFF",
              "true": "ON"
            }
          }
        }
      ]
    },
    {
      "name": "Турбо режим",
      "type": "Switch",
      "characteristics": [
        {
          "type": "On",
          "link": {
            "type": "String",
            "topicGet": "(1)/switch/boost/state",
            "topicSet": "(1)/switch/boost/command",
            "map": {
              "false": "OFF",
              "true": "ON"
            }
          }
        }
      ]
    },
    {
      "name": "Температура наружного воздуха",
      "type": "TemperatureSensor",
      "characteristics": [
        {
          "type": "CurrentTemperature",
          "link": {
            "type": "Integer",
            "topicGet": "(1)/sensor/outdoor_temperature/state",
            "inFunc": "parseInt(value) || 0"
          }
        }
      ]
    },
    {
      "name":"Температура ESP",
      "type":"TemperatureSensor",
      "characteristics":[
        {
          "type":"CurrentTemperature",
          "link":{
            "type":"Double",
            "topicGet":"(1)/sensor/esp_temperature/state",
            "inFunc": "parseFloat(value) || 0"
          }
        }
      ]
    },
    {
      "name": "Обслуживание фильтров",
      "type": "FilterMaintenance",
      "characteristics": [
        {
          "type": "FilterChangeIndication",
          "link": {
            "type": "String",
            "topicGet": "(1)/binary_sensor/filter_warnout/state",
            "map": {
              "FILTER_OK": "OFF",
              "CHANGE_FILTER": "ON"
            }
          }
        },
        {
          "type": "FilterLifeLevel",
          "link": {
            "type": "Integer",
            "topicGet": "(1)/sensor/filter_time_left/state",
            "inFunc": "value/180*100"
          },
          "unit": "%"
        },
        {
          "type": "ResetFilterIndication",
          "link": {
            "type": "String",
            "topicGet": "(1)/button/reset_filter/state",
            "topicSet": "(1)/button/reset_filter/command",
            "outFunc": "'PRESS'"
          }
        }
      ]
    },
    {
      "type": "C_WattMeter",
      "name": "Потребление нагревателя",
      "characteristics": [
        {
          "type": "C_Watt",
          "link": {
            "type": "Integer",
            "topicGet": "(1)/sensor/heater_power/state",
            "inFunc": "parseInt(value) || 0"
          }
        }
      ]
    },
    {
      "type": "C_GasMeter",
      "name": "Производительность",
      "characteristics": [
        {
          "type": "C_CubicMeter",
          "link": {
            "type": "Integer",
            "topicGet": "(1)/sensor/productivity/state",
            "inFunc": "parseInt(value) || 0"
          }
        }
      ]
    }
  ],
  "options": [
    {
      "link": {
        "type": "String",
        "topicGet": "(1)/sensor/version/state"
      },
      "name": "Прошивка",
      "input": "status",
      "write": false,
      "type": "String"
    },
    {
      "link": {
        "type": "String",
        "topicGet": "(1)/switch/led/state",
        "topicSet": "(1)/switch/led/command",
        "map": {
          "false": "OFF",
          "true": "ON"
        }
      },
      "type": "Boolean",
      "name": "Световая индикация",
      "value": true
    },
    {
      "link": {
        "type": "String",
        "topicGet": "(1)/switch/buzzer/state",
        "topicSet": "(1)/switch/buzzer/command",
        "map": {
          "false": "OFF",
          "true": "ON"
        }
      },
      "type": "Boolean",
      "name": "Звуковая индикация",
      "value": true
    },
    {
      "link": {
        "type": "Integer",
        "topicGet": "(1)/number/boost_time/state",
        "topicSet": "(1)/number/boost_time/command",
        "inFunc": "parseInt(value) || 0"
      },
      "name": "Турбо, время работы",
      "type": "Integer",
      "unit": " минут",
      "minValue": 1,
      "maxValue": 20,
      "minStep": 1
    },
    {
      "link": {
        "type": "Integer",
        "topicGet": "(1)/sensor/filter_time_left/state",
        "inFunc": "parseFloat(value) || 0"
      },
      "name": "До замены фильтров",
      "unit": " дней",
      "type": "Integer",
      "write": false,
      "input": "status"
    },
    {
      "link": {
        "type": "String",
        "topicGet": "(1)/button/restart/state",
        "topicSet": "(1)/button/restart/command",
        "outFunc": "'PRESS'"
      },
      "type": "Boolean",
      "name": "перезагрузить",
      "inputType": "BUTTON",
      "value": true
    }
  ]
}